<html>

<style>
    #game
    {
        border:solid 1px black;
        border-radius:8px;
        margin:auto;
    }
</style>

<body>
    <div id="game"></div>
    <script type="text/javascript" src="https://rawgithub.com/craftyjs/Crafty/release/dist/crafty-min.js"></script>
    <script>
        var screenWidth = 400;
        var screenHeight = 300;
        var hitCounter = 0;

        function random(x){
            return Math.floor(Math.random() * (x));
        }

        function pause()
        {
            Crafty.pause();
        }
        Crafty.init(screenWidth, screenHeight, document.getElementById('game'));

        //Creation du premier element
        //Rand taille du plateau - taille de notre Bonus
        rand_x = random(screenWidth-30)
        rand_y = random(screenHeight-30)
        var bonus = Crafty.e('Bonus, 2D, Canvas, Color, Solid')
                .attr({ x: rand_x, y: rand_y, w: 30, h: 30 })
                .color('black');
        //Creation de notre player
        //Quand il touche un Bonus ce dernier est détruit et un autre est crée              
        var player1 = Crafty.e('2D,Player, Canvas, Color, Fourway, Collision')
            .attr({ x: 0, y: 0, w: 50, h: 50 })
            .color('#F00')
            .fourway(200)
            .onHit('Bonus', function() { // on collision with bonus
            rand_x2 = random(screenWidth-30)
            rand_y2 = random(screenHeight-30)
            bonus.destroy()
            bonus = Crafty.e('Bonus, 2D, Canvas, Color, Solid')
                .attr({ x: rand_x2, y: rand_y2, w: 30, h: 30 })
                .color('black');
        });
        


    </script>
    <input type="button" value="pause" onclick="pause()" />
    <div id="message"></div>
</body>

</html>